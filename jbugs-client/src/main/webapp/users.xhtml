<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title><h:outputText value="#{msg['login.title']}" /></title>

	<style>
html {
	width: 100%;
	height: 100%;
	overflow: scroll;
}

body {
	width: 500%;
	height: 500%;
	font-family: 'Open Sans', sans-serif;
	background: #092756;
	background: -moz-radial-gradient(0% 100%, ellipse cover, rgba(104, 128, 138, .4)
		10%, rgba(138, 114, 76, 0) 40%),
		-moz-linear-gradient(top, rgba(57, 173, 219, .25) 0%,
		rgba(42, 60, 87, .4) 100%),
		-moz-linear-gradient(-45deg, #670d10 0%, #092756 100%);
	background: -webkit-radial-gradient(0% 100%, ellipse cover, rgba(104, 128, 138, .4)
		10%, rgba(138, 114, 76, 0) 40%),
		-webkit-linear-gradient(top, rgba(57, 173, 219, .25) 0%,
		rgba(42, 60, 87, .4) 100%),
		-webkit-linear-gradient(-45deg, #670d10 0%, #092756 100%);
	background: -o-radial-gradient(0% 100%, ellipse cover, rgba(104, 128, 138, .4)
		10%, rgba(138, 114, 76, 0) 40%),
		-o-linear-gradient(top, rgba(57, 173, 219, .25) 0%,
		rgba(42, 60, 87, .4) 100%),
		-o-linear-gradient(-45deg, #670d10 0%, #092756 100%);
	background: -ms-radial-gradient(0% 100%, ellipse cover, rgba(104, 128, 138, .4)
		10%, rgba(138, 114, 76, 0) 40%),
		-ms-linear-gradient(top, rgba(57, 173, 219, .25) 0%,
		rgba(42, 60, 87, .4) 100%),
		-ms-linear-gradient(-45deg, #670d10 0%, #092756 100%);
	background: -webkit-radial-gradient(0% 100%, ellipse cover, rgba(104, 128, 138, .4)
		10%, rgba(138, 114, 76, 0) 40%),
		linear-gradient(to bottom, rgba(57, 173, 219, .25) 0%,
		rgba(42, 60, 87, .4) 100%),
		linear-gradient(135deg, #670d10 0%, #092756 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3E1D6D',
		endColorstr='#092756', GradientType=1);
}

.helloWorld {
	position: absolute;
	top: 20%;
	left: 20%;
	background: rgba(255, 255, 255, 0.5);
	margin: -150px 0 0 -150px;
	width: 1250px;
	height: 700px;
}
</style>
</h:head>
<h:body>
	<f:view>
		<div class="helloWorld">
	
			<h:form id="usersForm">

				<p:messages />
				<p:dataTable value="#{userBean.allUsers}" var="user">
					<f:facet name="header"></f:facet>
					<p:column>
						<f:facet name="header">
							Firstname							
						     <br />
							<h:inputText value="#{userBean.newUser.firstname}">
							</h:inputText>
						</f:facet>
						 	<h:outputText value="#{user.firstname}">
							</h:outputText>
							<p:inputText required="true" value="#{userBean.selectedUser.firstname}" rendered="#{userBean.verifyUserRendered(user)}"></p:inputText>
					</p:column>
					<p:column>
						<f:facet name="header">
							Lastname								
					<br />
							<h:inputText value="#{userBean.newUser.lastname}">
							</h:inputText>
						</f:facet>
						<h:outputText value="#{user.lastname}">
						</h:outputText>
						<h:inputText value="#{userBean.selectedUser.lastname}" rendered="#{userBean.verifyUserRendered(user)}"></h:inputText>
					</p:column>

					<p:column>
						<f:facet name="header">
						<h:outputLabel for="username" value="#{msg['login.username']}" />
								<br />
							<h:inputText value="#{userBean.newUser.username}">
							</h:inputText>
						</f:facet>
						<h:outputText value="#{user.username}">
						</h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							Email
	  						<br />
							<h:inputText value="#{userBean.newUser.email}">
							</h:inputText>
						</f:facet>
						<h:outputText value="#{user.email}">
						</h:outputText>
						<h:inputText value="#{userBean.selectedUser.email}" rendered="#{userBean.verifyUserRendered(user)}"></h:inputText>
					</p:column>					

					<p:column>
						<f:facet name="header">
							Phone number
													<br />
							<h:inputText value="#{userBean.newUser.phoneNumber}">
							</h:inputText>
						</f:facet>
							<h:outputText value="#{user.phoneNumber}">
							</h:outputText>
							<h:inputText value="#{userBean.selectedUser.phoneNumber}" rendered="#{userBean.verifyUserRendered(user)}"></h:inputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							Active
					       <br />
						</f:facet>

						<h:outputText value="#{user.active}">
						</h:outputText>
					</p:column>

					<p:column>
						<f:facet name="header">
						Action
							<br />
							<h:commandButton value="Create"
								action="#{userBean.createNewUser}">
							</h:commandButton>
						</f:facet>



						<h:commandButton value="Delete"
							action="#{userBean.deleteUser(user)}" rendered="#{!userBean.verifyUserRendered(user)}">
						</h:commandButton>


						<h:commandButton value="Activate"
							action="#{userBean.activateUser(user)}" rendered="#{!userBean.verifyUserRendered(user)}"></h:commandButton>

						<h:commandButton value="Update"
							action="#{userBean.enterUpdateMode(user)}" rendered="#{!userBean.verifyUserRendered(user)}"></h:commandButton>
							
							<h:commandButton value="Leave update mode"
							action="#{userBean.leaveUpdateMode}" rendered="#{userBean.verifyUserRendered(user)}"></h:commandButton>
							
							<h:commandButton value="Edit user"
							action="#{userBean.editUser}" rendered="#{userBean.verifyUserRendered(user)}"></h:commandButton>
					</p:column>

				</p:dataTable>


				
				
				
				<h:commandLink value="#{msg['general.logout']}"
					action="#{loginBean.processLogout}" />


			</h:form>
		</div>
	</f:view>

</h:body>
</html>