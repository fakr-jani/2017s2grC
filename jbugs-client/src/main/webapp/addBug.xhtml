<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title><h:outputText value="#{msg['login.title']}" /></title>
	<h:outputStylesheet library="css" name="addUserStyle.css" />
</h:head>
<h:body>
	<f:view>

		<div>

			<h1><p:outputLabel value="#{msg['add.bug']}" /></h1>
			<ui:include src="menu.xhtml" />
			<br /> <br />
			<h:form id="addBug" rendered="#{userBean.verifyPermissionRendered('BUG_MANAGEMENT')}">
				<h:panelGrid columns="1">
					<p:outputLabel value="#{msg['bug.title']}" />
					<p:inputText value="#{bugBean.newBug.titleBug}" required="true" />
					<p:outputLabel value="#{bug.titleBug}" />
					<p:outputLabel value="#{msg['bug.description']}" />
					<p:inputText value="#{bugBean.newBug.descriptionBug}"
						required="true" />
					<p:outputLabel value="#{bug.descriptionBug}" />
					<p:outputLabel value="#{msg['bug.version']}" />
					<p:inputText value="#{bugBean.newBug.version}" required="true">
						<f:validator validatorId="versionValidator" />
					</p:inputText>
					<p:outputLabel value="#{bug.version}" />
					<p:outputLabel value="#{msg['bug.versionFixed']}" />
					<p:inputText value="#{bugBean.newBug.versionFixed}">
					</p:inputText>
					<p:outputLabel for="popup" value="#{msg['bug.targetDate']}" />

					<p:calendar id="popup" value="#{bugBean.date2}" />
					<p:outputLabel value="#{msg['bug.severity']}" style="font-weight: normal"/>
					<p:selectOneMenu value="#{bugBean.selectedSeverity}">
						<f:selectItems value="#{bugBean.severityList}" var="severity"
							itemValue="#{severity}" />
					</p:selectOneMenu>
					<p:outputLabel value="#{msg['bug.created']}" />
					<input type="text" readonly="readonly"
						value="#{bugBean.showUsername}" />
					<p:outputLabel value="#{msg['bug.status']}" />
					<input type="text" readonly="readonly" value="NEW"  style="font-weight: normal"/>
					<p:outputLabel value="#{msg['bug.assigned']}"  />
					<p:inputText value="#{bugBean.userAssigned}"  />

					<h:panelGrid columns="3">


						<p:outputLabel value="#{msg['bug.attachments']}" />
						<!-- <p:fileUpload value="#{fileUploadView.file}" mode="simple"
							skinSimple="true" />
						<p:commandButton value="Submit" ajax="false"
							actionListener="#{fileUploadView.upload}" disabled="true" /> -->
							
						<p:fileUpload fileUploadListener="#{bugBean.addUploadedFile}" mode="advanced" dragDropSupport="false" multiple="true"  sizeLimit="26214400" fileLimit="1" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|doc|odf|xlsx|xls)$/"  />
					</h:panelGrid>

					<br />
					<p:commandButton value="#{msg['create.button']}"
						action="#{bugBean.doCreateBug}">
					</p:commandButton>

				</h:panelGrid>


			</h:form>
		</div>
	</f:view>

</h:body>
</html>